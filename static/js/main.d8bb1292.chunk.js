(this["webpackJsonpblog-app"]=this["webpackJsonpblog-app"]||[]).push([[0],{28:function(e,t,a){},35:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){"use strict";a.r(t);var c=a(1),s=a.n(c),r=a(21),n=a.n(r),i=a(4),l=a(5),o=a(6),h=a(8),d=a(7),j=(a(28),a(2)),m=a(3),b=a(0);function u(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("header",{className:"header_section",children:Object(b.jsx)("div",{className:"my_container",children:Object(b.jsxs)("section",{className:"header flex between align_center",children:[Object(b.jsx)("div",{className:"header_left flex-30",children:Object(b.jsx)("a",{href:"/",children:Object(b.jsx)("img",{className:"logo",src:"/images/hashnode.svg",alt:"logo"})})}),Object(b.jsx)("div",{className:"header_right ",children:Object(b.jsx)("nav",{className:"nav",children:Object(b.jsxs)("ul",{className:"flex ",children:[Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"/",className:"",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(m.c,{activeClassName:"nav_active",to:"/new-article",children:"New Article"})}),Object(b.jsx)("li",{children:Object(b.jsx)("a",{href:"/profile",children:"Profile"})}),Object(b.jsx)("li",{children:Object(b.jsx)(m.c,{activeClassName:"nav_active",to:"/settings",children:"Settings"})}),Object(b.jsx)("li",{children:Object(b.jsx)(m.c,{onClick:e.logout,to:"/",children:"Log Out"})})]})})})]})})})})}function O(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("header",{className:"header_section",children:Object(b.jsx)("div",{className:"my_container",children:Object(b.jsxs)("section",{className:"header flex between align_center",children:[Object(b.jsx)("div",{className:"header_left flex-30",children:Object(b.jsx)("a",{href:"/",children:Object(b.jsx)("img",{className:"logo",src:"/images/hashnode.svg",alt:"logo"})})}),Object(b.jsx)("div",{className:"header_right flex-20",children:Object(b.jsx)("nav",{className:"nav",children:Object(b.jsxs)("ul",{className:"flex ",children:[Object(b.jsx)("li",{children:Object(b.jsx)(m.c,{activeClassName:"nav_active",exact:!0,to:"/",children:"Home"})}),Object(b.jsx)("li",{children:Object(b.jsx)(m.c,{activeClassName:"nav_active",to:"/signin",children:"Log in"})}),Object(b.jsx)("li",{children:Object(b.jsx)(m.c,{activeClassName:"nav_active",to:"/signup",children:"Sign up"})})]})})})]})})})})}var x=Object(j.f)((function(e){return e.isLogged?Object(b.jsx)(u,{logout:e.logout}):Object(b.jsx)(O,{})})),f="https://mighty-oasis-08080.herokuapp.com/api/",p=f+"articles",g="TokenKey";var v=Object(j.f)((function(e){var t=e.data,a=e.personalFeed;return Object(b.jsxs)("div",{className:"flex wrap between",children:[t.map((function(e){return Object(b.jsxs)("article",{className:"article flex-40",children:[Object(b.jsxs)("div",{className:"article_data",children:[Object(b.jsx)("h2",{className:"article_title",children:e.title}),Object(b.jsx)("p",{className:"article_desc",children:e.description})]}),Object(b.jsx)(m.b,{to:"/article/".concat(e.slug),children:Object(b.jsx)("button",{className:"form_btn article_btn",children:"Read More..."})}),Object(b.jsxs)("div",{className:"article_author_data flex align_center",children:[Object(b.jsx)(m.b,{to:"/profiles/".concat(e.author.username),children:Object(b.jsx)("img",{className:"author_img",src:e.author.image,alt:""})}),Object(b.jsx)(m.b,{to:"/profiles/".concat(e.author.username),children:Object(b.jsx)("h3",{className:"author_name",children:e.author.username})})]})]},e.slug)})),a.map((function(e){return Object(b.jsxs)("article",{className:"article flex-40",children:[Object(b.jsxs)("div",{className:"article_data",children:[Object(b.jsx)("h2",{className:"article_title",children:e.title}),Object(b.jsx)("p",{className:"article_desc",children:e.description})]}),Object(b.jsx)(m.b,{to:"/article/".concat(e.slug),children:Object(b.jsx)("button",{className:"form_btn article_btn",children:"Read More..."})}),Object(b.jsxs)("div",{className:"article_author_data flex align_center",children:[Object(b.jsx)(m.b,{to:"/profiles/".concat(e.author.username),children:Object(b.jsx)("img",{className:"author_img",src:e.author.image,alt:""})}),Object(b.jsx)(m.b,{to:"/profiles/".concat(e.author.username),children:Object(b.jsx)("h3",{className:"author_name",children:e.author.username})})]})]},e.slug)}))]})}));a(35);var _=function(){return Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"col-sm-2",children:Object(b.jsx)("div",{id:"pacman1"})})})};var N=function(e){for(var t=e.articlesPerPage,a=e.articlesCount,c=e.activePageIndex,s=e.updateCurrentPageIndex,r=Math.ceil(a/t),n=[],i=1;i<=r;i++)n.push(i);return Object(b.jsxs)("div",{children:[Object(b.jsxs)("button",{onClick:function(){return s(c-1<1?1:c-1)},className:"pagination_btns ",children:[" ","<"," "]}),n.map((function(e){return Object(b.jsx)("button",{onClick:function(){return s(e)},className:"pagination_btns  ".concat(c===e?"active_pagination":""),children:e},e)})),Object(b.jsx)("button",{onClick:function(){return s(c+1>r?r:c+1)},className:"pagination_btns",children:">"})]})},y=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).emptyTab=function(){c.setState({activeTag:""})},c.updateCurrentPageIndex=function(e){c.setState({activePageIndex:e},c.handleOnload,c.handlePersonalFeed)},c.handleOnload=function(){var e=c.state.articlesPerPage,t=(c.state.activePageIndex-1)*e,a=c.state.activeTag;fetch(p+"/?offset=".concat(t,"&limit=").concat(e)+(a&&"&tag=".concat(a))).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){c.setState({data:e.articles,error:"",articlesCount:e.articlesCount})})).catch((function(e){c.setState({error:"Not able to fetch Data"})})),fetch("https://mighty-oasis-08080.herokuapp.com/api/tags").then((function(e){return e.json()})).then((function(e){return c.setState({tags:e})}))},c.addTab=function(e){c.setState({activeTag:e})},c.handlePersonalFeed=function(){var e=c.state.articlesPerPage,t=(c.state.activePageIndex-1)*e,a=c.state.activeTag,s=p+"/feed?offset=".concat(t,"&limit=").concat(e)+(a&&"&tag=".concat(a)),r=localStorage.TokenKey;r&&fetch(s,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(r)}}).then((function(e){return e.json()})).then((function(e){c.setState({personalFeed:e.articles,activeTag:"Personal Feed",articlesCount:e.articlesCount})}))},c.state={data:[],tags:[],activeTag:"",articlesCount:0,articlesPerPage:10,activePageIndex:1,error:"",personalFeed:[]},c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){this.handleOnload()}},{key:"componentDidUpdate",value:function(e,t){t.activePageIndex===this.state.activePageIndex&&t.activeTag===this.state.activeTag||this.handleOnload()}},{key:"render",value:function(){var e,t=this,a=localStorage.TokenKey,c=this.state,s=c.data,r=c.tags,n=c.activeTag,i=c.error,l=c.articlesCount,o=c.articlesPerPage,h=c.activePageIndex,d=c.personalFeed;return i?Object(b.jsx)("p",{className:"data_fetch_error",children:i}):h&&s?s.length<1&&d.length<1?Object(b.jsx)("h2",{className:"article_not_found",children:"No Articles Found!"}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("section",{className:"hero_section",children:Object(b.jsx)("div",{className:"my_container",children:Object(b.jsxs)("section",{className:"hero flex between medium_wrap",children:[Object(b.jsx)("article",{className:"hero_left flex-60 flex center align_center",children:Object(b.jsxs)("h1",{className:"hero_heading     ",children:[Object(b.jsx)("div",{className:"hashnode_heading",children:"Hashnode a shortened version of weblog"})," It is an online journal or informational website displaying information in reverse chronological order, with the latest posts appearing first, at the top. It is a platform where a writer or a group of writers share their views on an individual subject. There are many reasons to start a blog for personal use and only a handful of strong ones for business blogging. Blogging for business, projects, or anything else that might bring you money has a very straightforward."]})}),Object(b.jsx)("article",{className:"hero_right flex-40",children:Object(b.jsx)("img",{className:"undraw",src:"/images/lotte.gif",alt:""})})]})})}),Object(b.jsx)("div",{className:"my_container",children:Object(b.jsx)("div",{className:"line"})}),Object(b.jsx)("section",{className:"my_container ",children:Object(b.jsxs)("div",{className:"flex ",children:[Object(b.jsx)(m.b,{onClick:this.emptyTab,className:"global_feed_heading ".concat(""===n&&"active_tag_heading"),to:"/",children:Object(b.jsx)("h2",{children:"Global Feed"})}),a&&Object(b.jsx)(m.b,{onClick:this.handlePersonalFeed,className:"global_feed_heading ".concat("Personal Feed"===n&&"active_tag_heading"),to:"/",children:Object(b.jsx)("h2",{children:"Personal Feed"})}),n&&Object(b.jsx)(m.b,{className:"global_feed_heading ".concat(n&&"active_tag_heading"),to:"/",children:Object(b.jsx)("h2",{children:"".concat(n)})})]})}),Object(b.jsx)("section",{className:"total_section",children:Object(b.jsxs)("div",{className:"my_container",children:[Object(b.jsxs)("div",{className:"articles_tags_section flex between medium_wrap ",children:[Object(b.jsx)("section",{className:"articles_section flex-65 flex between wrap",children:Object(b.jsx)(m.b,{to:"/",children:Object(b.jsx)(v,{data:s,personalFeed:d})})}),Object(b.jsxs)("section",{className:"tags_section flex-35 ",children:[Object(b.jsx)("h2",{className:"popular_tags_heading",children:"Popular Tags"}),null===r||void 0===r||null===(e=r.tags)||void 0===e?void 0:e.map((function(e){return""===e?"":Object(b.jsx)("button",{className:"tag_btn",value:e,onClick:function(){return t.addTab(e)},children:e},e)}))]})]}),Object(b.jsx)("section",{className:"pagination_section",children:Object(b.jsx)(N,{updateCurrentPageIndex:this.updateCurrentPageIndex,activePageIndex:h,articlesCount:l,articlesPerPage:o})})]})})]}):Object(b.jsx)(_,{})}}]),a}(c.Component),w=a(10);function C(e,t,a){switch(t){case"username":var c=a.length<7?"Username should be at-least 6 characters long":"";e.username=c;break;case"email":var s=-1===a.indexOf("@")?"Email should contain @":"";e.email=s;break;case"password":var r;a.length<7&&(r="Password should be at-least 6 characters"),e.password=r;/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]/.test(a)||(r="Password must contain a letter and a number"),e.password=r}}var k=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).handleChange=function(e){var t,a=e.target,s=a.name,r=a.value,n=Object(i.a)({},c.state.errors);C(n,s,r),c.setState((t={},Object(w.a)(t,s,r),Object(w.a)(t,"errors",n),t))},c.handleSubmit=function(e){e.preventDefault();var t=c.state,a=t.email,s=t.password;fetch("https://mighty-oasis-08080.herokuapp.com/api/users/login",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({user:{email:a,password:s}})}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(e){var t=e.user;c.props.updateUser(t),c.setState({email:"",password:""}),localStorage.setItem(g,t.token),c.props.history.push("/")})).catch((function(e){c.setState((function(e){return Object(i.a)(Object(i.a)({},e),{},{errors:Object(i.a)(Object(i.a)({},e.errors),{},{email:"Email or password is Invalid!"})})}))}))},c.state={email:"",password:"",errors:{email:"",password:""}},c}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,c=e.errors;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"form_div flex align_center center",children:Object(b.jsxs)("form",{className:"form",onSubmit:this.handleSubmit,children:[Object(b.jsx)("h2",{className:"form_heading",children:"Log In"}),Object(b.jsx)("label",{className:"label",htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{className:"input",onChange:this.handleChange,name:"email",value:t,type:"email",placeholder:"Enter your email"}),Object(b.jsx)("p",{className:"error",children:c.email}),Object(b.jsx)("label",{className:"label",htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{className:"input",onChange:this.handleChange,name:"password",value:a,type:"password",placeholder:"Enter your Password"}),Object(b.jsx)("p",{className:"error",children:c.password}),Object(b.jsx)("input",{disabled:c.email||c.password,type:"submit",value:"Log in",className:"input_btn input"}),Object(b.jsx)(m.b,{to:"/signup",children:Object(b.jsx)("button",{className:"form_btn",children:"Signup"})})]})})})})})}}]),a}(s.a.Component),A=Object(j.f)(k),S=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).handleChange=function(e){var t,a=e.target,s=a.name,r=a.value,n=Object(i.a)({},c.state.errors);C(n,s,r),c.setState((t={},Object(w.a)(t,s,r),Object(w.a)(t,"errors",n),t))},c.handleSubmit=function(e){e.preventDefault();var t=c.state,a=t.username,s=t.email,r=t.password;fetch("https://mighty-oasis-08080.herokuapp.com/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{username:a,email:s,password:r}})}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(e){e.user;c.setState({username:"",email:"",password:""}),c.props.history.push("/signin")})).catch((function(e){return c.setState({errors:e})}))},c.state={username:"",email:"",password:"",errors:{username:"",email:"",password:""}},c}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,c=e.password,s=e.errors;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"form_div flex align_center center",children:Object(b.jsxs)("form",{className:"form",onSubmit:this.handleSubmit,children:[Object(b.jsx)("h2",{className:"form_heading",children:"Sign Up"}),Object(b.jsx)("label",{className:"label",htmlFor:"username",children:"Username"}),Object(b.jsx)("input",{className:"input",name:"username",value:t,onChange:this.handleChange,type:"username",placeholder:"Enter your username"}),Object(b.jsx)("p",{className:"error",children:s.username}),Object(b.jsx)("label",{className:"label",htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{className:"input",name:"email",value:a,onChange:this.handleChange,type:"email",placeholder:"Enter your email"}),Object(b.jsx)("p",{className:"error",children:s.email}),Object(b.jsx)("label",{className:"label",htmlFor:"password",children:"Password"}),Object(b.jsx)("input",{className:"input",name:"password",value:c,onChange:this.handleChange,type:"password",placeholder:"Enter your Password"}),Object(b.jsx)("p",{className:"error",children:s.password}),Object(b.jsx)("input",{disabled:s.username||s.email||s.password,type:"submit",value:"Signup",className:"input_btn input"}),Object(b.jsx)(m.b,{to:"/signin",children:Object(b.jsx)("button",{className:"form_btn",children:"Login"})})]})})})})})}}]),a}(s.a.Component),F=Object(j.f)(S),T=a(20),P=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={comment:[]},e.handleChange=function(t){var a=t.target,c=a.name,s=a.value;e.setState(Object(w.a)({},c,s))},e.handleSubmit=function(t){t.preventDefault();var a=e.state.comment,c=e.props.slug,s=localStorage.TokenKey,r=p+"/".concat(c,"/comments");s&&fetch(r,{method:"POST",headers:{"Content-Type":"application/json",authorization:"Token ".concat(s)},body:JSON.stringify({comment:{body:a}})}).then((function(e){if(!e.ok)throw new Error("Not able to post comments");return e.json()})).then((function(t){console.log(t),e.setState({comment:""},e.props.getComments,e.handleDeleteComment),e.props.history.push("/article/".concat(c))}))},e.handleDeleteComment=function(t){var a=e.props.slug,c=p+"/".concat(a,"/comments/").concat(t),s=localStorage.TokenKey;fetch(c,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(s)}}).then((function(t){if(!t.ok)return t.json().then((function(e){var t=e.errors;return Promise.reject(t)}));e.props.getComments()})).catch((function(t){return e.setState({err:t})}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this,t=this.state.comment,a=this.props.allComments;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{className:"total_comment_section",children:Object(b.jsxs)("div",{className:"my_container",children:[Object(b.jsx)("section",{className:"flex align_center center",children:Object(b.jsxs)("form",{className:"article_form",onSubmit:this.handleSubmit,children:[Object(b.jsx)("h2",{className:"write_art_heading",children:"Add Comments"}),Object(b.jsxs)("div",{className:" art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"comment",children:"Add Comment"}),Object(b.jsx)("textarea",{onChange:this.handleChange,value:t,placeholder:"Write a comment...",name:"comment",id:"",className:"art_inp art_textarea comment_textarea"})]}),Object(b.jsx)("div",{className:"art_form_btn",children:Object(b.jsx)("button",{className:"form_btn add_art_btn",children:"Add Comment"})})]})}),Object(b.jsx)("section",{className:"comments_section",children:a.map((function(t){return Object(b.jsxs)("div",{className:"comment_card",children:[Object(b.jsx)("div",{children:Object(b.jsx)("h2",{className:"comment_body",children:t.body})}),Object(b.jsxs)("div",{className:" flex align_center between",children:[Object(b.jsxs)("article",{className:"comment_author_info flex align_center  ",children:[Object(b.jsx)("img",{className:"author_img",src:t.author.image,alt:t.author.image}),Object(b.jsx)("h2",{className:"author_name",children:t.author.username}),Object(b.jsx)("h3",{className:"comment_date",children:T(t.createdAt).add(1,"day").format("LLL")})]}),Object(b.jsx)("article",{children:Object(b.jsx)("img",{onClick:function(){return e.handleDeleteComment(t.id)},className:"delete_gif",src:"/images/delete.gif",alt:""})})]})]},t.id)}))})]})})})}}]),a}(c.Component),L=Object(j.f)(P),U=a(20),E=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).getComments=function(){var e=c.props.match.params.slug,t=p+"/".concat(e,"/comments");fetch(t).then((function(e){if(!e.ok)throw new Error(e.statusText);return e.json()})).then((function(e){c.setState({allComments:e.comments})}))},c.handleMyFavoriteArticles=function(){var e=c.props.match.params.slug,t=p+"/".concat(e,"/favorite"),a=localStorage.TokenKey;a&&fetch(t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(a)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(e){c.setState({myFavoriteArticle:e.article})}))},c.state={singleArticle:[],allComments:[],key:localStorage.TokenKey,myFavoriteArticle:""},c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.slug;fetch(p+"/".concat(t)).then((function(e){return e.json()})).then((function(t){return e.setState({singleArticle:t})})),this.getComments(),this.state.myFavoriteArticle&&this.handleMyFavoriteArticles()}},{key:"render",value:function(){var e=this.state,t=e.singleArticle,a=e.allComments,c=e.key,s=e.myFavoriteArticle,r=this.props.user;return t.length<1?Object(b.jsx)(_,{}):Object(b.jsx)(b.Fragment,{children:c?Object(b.jsx)(M,Object(i.a)(Object(i.a)(Object(i.a)({},this.props),{},{myFavoriteArticle:s,handleMyFavoriteArticles:this.handleMyFavoriteArticles},this.state),{},{user:r,slug:this.props.match.params.slug,getComments:this.getComments,singleArticle:t,allComments:a})):Object(b.jsx)(D,{singleArticle:t,allComments:a})})}}]),a}(s.a.Component);function M(e){var t,a,c,s,r,n,i,l,o=e.singleArticle,h=e.allComments,d=e.getComments,j=e.slug,m=e.handleMyFavoriteArticles,u=e.myFavoriteArticle;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{className:"total_single_article",children:Object(b.jsxs)("div",{className:"my_container",children:[Object(b.jsxs)("section",{className:"single_author_info",children:[Object(b.jsx)("img",{className:"single_author_image",src:null===o||void 0===o||null===(t=o.article)||void 0===t?void 0:t.author.image,alt:""}),Object(b.jsx)("h2",{className:"single_author_name",children:null===o||void 0===o||null===(a=o.article)||void 0===a?void 0:a.author.username}),Object(b.jsx)("p",{className:"single_author_bio",children:null===o||void 0===o||null===(c=o.article)||void 0===c?void 0:c.author.bio})]}),Object(b.jsxs)("section",{className:"single_article_details",children:[Object(b.jsx)("h2",{className:"single_article_heading",children:"Article Details"}),Object(b.jsx)("h2",{className:"single_article_title",children:null===o||void 0===o||null===(s=o.article)||void 0===s?void 0:s.title}),Object(b.jsx)("h3",{className:"single_article_desc",children:null===o||void 0===o||null===(r=o.article)||void 0===r?void 0:r.description}),Object(b.jsx)("p",{className:"single_article_body",children:null===o||void 0===o||null===(n=o.article)||void 0===n?void 0:n.body}),Object(b.jsxs)("p",{className:"single_article_create",children:["created at :  ",U(null===o||void 0===o||null===(i=o.article)||void 0===i?void 0:i.createdAt).add(1,"day").format("LLL")]}),Object(b.jsxs)("p",{className:"single_article_update",children:["updated at :  ",U(null===o||void 0===o||null===(l=o.article)||void 0===l?void 0:l.updatedAt).add(1,"day").format("LLL")]})]}),Object(b.jsx)("section",{children:Object(b.jsx)("div",{onClick:m,children:Object(b.jsx)("i",{className:"fas fa-heart heart ".concat(!0===u.favorited?"active_heart":"heart")})})}),Object(b.jsx)("div",{className:"line comment_line"}),Object(b.jsx)("section",{className:" flex center align_center",children:Object(b.jsx)(L,{slug:j,getComments:d,allComments:h})}),Object(b.jsx)("section",{})]})})})}function D(e){var t,a,c,s,r,n,i,l,o=e.singleArticle;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsxs)("div",{className:"my_container",children:[Object(b.jsxs)("section",{className:"single_author_info",children:[Object(b.jsx)("img",{className:"single_author_image",src:null===o||void 0===o||null===(t=o.article)||void 0===t?void 0:t.author.image,alt:""}),Object(b.jsx)("h2",{className:"single_author_name",children:null===o||void 0===o||null===(a=o.article)||void 0===a?void 0:a.author.username}),Object(b.jsx)("p",{className:"single_author_bio",children:null===o||void 0===o||null===(c=o.article)||void 0===c?void 0:c.author.bio})]}),Object(b.jsxs)("section",{className:"single_article_details",children:[Object(b.jsx)("h2",{className:"single_article_heading",children:"Article Details"}),Object(b.jsx)("h2",{className:"single_article_title",children:null===o||void 0===o||null===(s=o.article)||void 0===s?void 0:s.title}),Object(b.jsx)("h3",{className:"single_article_desc",children:null===o||void 0===o||null===(r=o.article)||void 0===r?void 0:r.description}),Object(b.jsx)("p",{className:"single_article_body",children:null===o||void 0===o||null===(n=o.article)||void 0===n?void 0:n.body}),Object(b.jsxs)("p",{className:"single_article_create",children:["created at :  ",U(null===o||void 0===o||null===(i=o.article)||void 0===i?void 0:i.createdAt).add(1,"day").format("LLL")]}),Object(b.jsxs)("p",{className:"single_article_update",children:["updated at :  ",U(null===o||void 0===o||null===(l=o.article)||void 0===l?void 0:l.updatedAt).add(1,"day").format("LLL")]})]}),Object(b.jsx)("section",{})]})})})}var I=Object(j.f)(E);var q=function(){return Object(b.jsx)("div",{className:"my_container flex align_center center",children:Object(b.jsx)("h1",{className:"not_found_page",children:"404 Not Found"})})},K=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={title:"",description:"",body:"",tagList:"",errors:{title:"",description:"",body:"",tagList:""}},e.handleChange=function(t){var a=t.target,c=a.name,s=a.value,r=e.state.errors;switch(c){case"title":r.title=0===s.length?"*title is required!":"";break;case"description":r.description=0===s.length?"*description is required!":"";break;case"body":r.body=0===s.length?"*body is required!":"";break;case"tagList":r.tagList=0===s.length?"*tags are required!":""}e.setState(Object(w.a)({},c,s))},e.handleSubmit=function(t){t.preventDefault();var a=localStorage.TokenKey,c=e.state,s=c.title,r=c.description,n=c.body,i=c.tagList;a&&fetch("https://mighty-oasis-08080.herokuapp.com/api/articles",{method:"POST",headers:{"Content-Type":"application/json",authorization:"Token ".concat(a)},body:JSON.stringify({article:{title:s,description:r,body:n,tagList:i.split(",").map((function(e){return e.trim()}))}})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){console.log(t),e.setState({title:"",description:"",body:"",tagList:""}),e.props.history.push("article/".concat(t.article.slug))})).catch((function(t){e.setState({errors:t})}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,c=e.body,s=e.tagList,r=e.errors;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("div",{className:"my_container",children:Object(b.jsx)("section",{className:"article_form_section flex center align_center",children:Object(b.jsxs)("form",{className:"article_form",onSubmit:this.handleSubmit,children:[Object(b.jsx)("h2",{className:"write_art_heading",children:"Write Aritlce"}),Object(b.jsxs)("div",{className:"flex between",children:[Object(b.jsxs)("div",{className:" art_inp_field flex-48",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{onChange:this.handleChange,required:!0,value:t,type:"text",name:"title",className:"art_inp",id:""}),Object(b.jsx)("h2",{className:"error new_art_error",children:r.title})]}),Object(b.jsxs)("div",{className:"flex-48 art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"description",children:"What's this article about?"}),Object(b.jsx)("input",{onChange:this.handleChange,required:!0,value:a,type:"text",name:"description",className:"art_inp",id:""}),Object(b.jsx)("h2",{className:"error new_art_error",children:r.description})]})]}),Object(b.jsxs)("div",{className:" art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"body",children:"Write your article"}),Object(b.jsx)("textarea",{onChange:this.handleChange,required:!0,value:c,name:"body",id:"",className:"art_inp art_textarea"}),Object(b.jsx)("h2",{className:"error new_art_error",children:r.body})]}),Object(b.jsxs)("div",{className:" art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"tagList",children:"Enter tags"}),Object(b.jsx)("input",{onChange:this.handleChange,required:!0,value:s,type:"text",name:"tagList",className:"art_inp",id:""}),Object(b.jsx)("h2",{className:"error new_art_error",children:r.tagList})]}),Object(b.jsx)("div",{className:"art_form_btn",children:Object(b.jsx)("button",{className:"form_btn add_art_btn",children:"Add Article"})})]})})})})})}}]),a}(s.a.Component),z=Object(j.f)(K),J=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={username:"",image:"",bio:"",email:"",password:"",errors:{username:"",image:"",bio:"",email:"",password:""}},e.handleChange=function(t){var a=t.target,c=a.name,s=a.value;C(Object(i.a)({},e.state.errors),c,s),e.setState(Object(w.a)({},c,s))},e.handleSubmit=function(t){t.preventDefault();var a=localStorage.TokenKey,c=e.state,s=c.username,r=c.image,n=c.bio,i=c.email,l=c.password;a&&fetch("https://mighty-oasis-08080.herokuapp.com/api/user",{method:"PUT",headers:{"Content-Type":"application/json",authorization:"Token ".concat(a)},body:JSON.stringify({user:{username:s,image:r,bio:n,email:i,password:l}})}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){var a=t.user;e.setState({username:s,image:r,bio:n,email:i,password:l}),e.props.updateUser({user:a}),e.props.history.push("/profile")}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.image,c=e.bio,s=e.email,r=e.password,n=e.errors;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("div",{className:"my_container",children:Object(b.jsx)("section",{className:"article_form_section flex center align_center",children:Object(b.jsxs)("form",{className:"article_form",onSubmit:this.handleSubmit,children:[Object(b.jsx)("h2",{className:"write_art_heading",children:"Update Your Profile"}),Object(b.jsxs)("div",{className:"flex between",children:[Object(b.jsxs)("div",{className:" art_inp_field flex-48",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"username",children:"username"}),Object(b.jsx)("input",{onChange:this.handleChange,value:t,type:"text",name:"username",className:"art_inp",id:""})]}),Object(b.jsxs)("div",{className:"flex-48 art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"image",children:"Url of Profile Picture"}),Object(b.jsx)("input",{onChange:this.handleChange,value:a,type:"text",name:"image",className:"art_inp",id:""})]})]}),Object(b.jsxs)("div",{className:" art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"bio",children:"Bio"}),Object(b.jsx)("textarea",{onChange:this.handleChange,value:c,name:"bio",id:"",className:"art_inp art_textarea"})]}),Object(b.jsxs)("div",{className:" art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"email",children:"Email"}),Object(b.jsx)("input",{onChange:this.handleChange,value:s,type:"text",name:"email",className:"art_inp",id:""}),Object(b.jsx)("h2",{className:"error new_art_error",children:n.email})]}),Object(b.jsxs)("div",{className:" art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"password",children:"New Password"}),Object(b.jsx)("input",{onChange:this.handleChange,value:r,type:"text",name:"password",className:"art_inp",id:""})]}),Object(b.jsx)("div",{className:"art_form_btn",children:Object(b.jsx)("button",{className:"form_btn add_art_btn",children:"Update"})})]})})})})})}}]),a}(s.a.Component),R=Object(j.f)(J);a(37);var W=function(){return Object(b.jsx)("div",{className:"new_loader",children:Object(b.jsx)("div",{className:"col-sm-2",children:Object(b.jsxs)("div",{id:"dots5",children:[Object(b.jsx)("span",{}),Object(b.jsx)("span",{}),Object(b.jsx)("span",{}),Object(b.jsx)("span",{})]})})})},V=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={myArticles:[],favoriteArticles:[],activeTab:"myarticles",deleteArticle:""},e.fetchMyArticles=function(){var t=e.props.user.username,a=p+"?author=".concat(t);fetch(a).then((function(e){if(!e.ok)throw new Error("Error while fetching my articles");return e.json()})).then((function(t){e.setState({myArticles:t.articles,activeTab:"myarticles"})}))},e.fetchFavoritedArticles=function(){var t=e.props.user.username,a=p+"?favorited=".concat(t);fetch(a).then((function(e){if(!e.ok)throw new Error("Error while fetching my articles");return e.json()})).then((function(t){e.setState({favoriteArticles:t.articles,activeTab:"favorited"})}))},e.handleActive=function(t){"myarticles"===t?e.fetchMyArticles():e.fetchFavoritedArticles()},e.handleDeleteArticle=function(t){var a=p+"/".concat(t),c=localStorage.TokenKey;c&&fetch(a,{method:"DELETE",headers:{authorization:"Token ".concat(c)}}).then((function(t){if(!t.ok)return t.json().then((function(e){var t=e.errors;return Promise.reject(t)}));e.fetchMyArticles()})).catch((function(e){return console.log(e)}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){"myarticles"===this.state.activeTab?this.fetchMyArticles():this.fetchFavoritedArticles()}},{key:"render",value:function(){var e=this,t=this.props.user,a=this.state,c=a.activeTab,s=a.myArticles,r=a.favoriteArticles;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsxs)("div",{className:"my_container",children:[Object(b.jsx)("div",{children:Object(b.jsxs)("article",{className:"banner_profile",children:[Object(b.jsx)("img",{className:"vector_image flex center align_center",src:"/images/keyboard_banner.gif",alt:""}),Object(b.jsxs)("article",{className:"profile_card",children:[Object(b.jsx)("img",{className:"profile_image",src:t.image?t.image:"/images/user-male.png",alt:""}),Object(b.jsx)("h2",{className:"profile_username",children:t.username}),Object(b.jsx)("p",{className:"profile_bio",children:t.bio})]})]})}),Object(b.jsxs)("section",{className:"profile_articles_section flex",children:[Object(b.jsx)("h2",{className:"global_feed_heading ".concat("myarticles"===c?"active_tag_heading":""),onClick:function(){return e.handleActive("myarticles")},children:"My Articles"}),Object(b.jsx)("h2",{className:"global_feed_heading ".concat("favorited"===c?"active_tag_heading":""),onClick:function(){return e.handleActive("favorited")},children:"Favorite Articles"})]}),Object(b.jsx)("section",{children:"myarticles"===c?Object(b.jsx)(B,Object(i.a)(Object(i.a)({},this.state),{},{handleDeleteArticle:this.handleDeleteArticle,myArticles:s})):Object(b.jsx)(G,Object(i.a)(Object(i.a)({},this.state),{},{favoriteArticles:r}))})]})})})}}]),a}(c.Component);function B(e){var t=e.myArticles;return t.length?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"my_articles",children:t.map((function(t){return Object(b.jsxs)("article",{className:"article profile_article",children:[Object(b.jsxs)("div",{className:"flex between",children:[Object(b.jsxs)("div",{className:"article_data",children:[Object(b.jsx)("h2",{className:"article_title",children:t.title}),Object(b.jsx)("p",{className:"article_desc",children:t.description})]}),Object(b.jsxs)("div",{className:" flex align_center center",children:[Object(b.jsx)(m.b,{to:"article/".concat(t.slug,"/update"),children:Object(b.jsx)("img",{className:"edit_gif ",src:"/images/edit.png",alt:""})}),Object(b.jsx)("img",{onClick:function(){return e.handleDeleteArticle(t.slug)},className:"delete_gif",src:"/images/delete.gif",alt:""})]})]}),Object(b.jsx)(m.b,{to:"/article/".concat(t.slug),children:Object(b.jsx)("button",{className:"form_btn article_btn",children:"Read More..."})}),Object(b.jsxs)("div",{className:"article_author_data flex align_center",children:[Object(b.jsx)(m.b,{to:"/profiles/".concat(t.author.username),children:Object(b.jsx)("img",{className:"author_img",src:t.author.image,alt:""})}),Object(b.jsx)(m.b,{to:"/profiles/".concat(t.author.username),children:Object(b.jsx)("h3",{className:"author_name",children:t.author.username})})]})]},t.slug)}))})}):Object(b.jsx)(W,{})}function G(e){var t=e.favoriteArticles;return t.length?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"my_articles",children:t.map((function(e){return Object(b.jsxs)("article",{className:"article profile_article",children:[Object(b.jsx)("div",{className:"flex between",children:Object(b.jsxs)("div",{className:"article_data",children:[Object(b.jsx)("h2",{className:"article_title",children:e.title}),Object(b.jsx)("p",{className:"article_desc",children:e.description})]})}),Object(b.jsx)(m.b,{to:"/article/".concat(e.slug),children:Object(b.jsx)("button",{className:"form_btn article_btn",children:"Read More..."})}),Object(b.jsxs)("div",{className:"article_author_data flex align_center",children:[Object(b.jsx)(m.b,{to:"/profiles/".concat(e.author.username),children:Object(b.jsx)("img",{className:"author_img",src:e.author.image,alt:""})}),Object(b.jsx)(m.b,{to:"/profiles/".concat(e.author.username),children:Object(b.jsx)("h3",{className:"author_name",children:e.author.username})})]})]},e.slug)}))})}):Object(b.jsx)(W,{})}var H=Object(j.f)(V),Z=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={profiles:"",myArticles:[],favoriteArticles:[],activeTab:"myarticles",followUser:"follow"},e.fetchMyArticles=function(){var t=e.props.match.params.username,a=p+"?author=".concat(t);fetch(a).then((function(e){if(!e.ok)throw new Error("Error while fetching my articles");return e.json()})).then((function(t){e.setState({myArticles:t.articles,activeTab:"myarticles"})}))},e.fetchFavoritedArticles=function(){var t=e.props.match.params.username;console.log(t);var a=p+"?favorited=".concat(t);fetch(a).then((function(e){if(!e.ok)throw new Error("Error while fetching my articles");return e.json()})).then((function(t){e.setState({favoriteArticles:t.articles,activeTab:"favorited"})}))},e.handleActive=function(t){"myarticles"===t?e.fetchMyArticles():e.fetchFavoritedArticles()},e.handleFollow=function(){var t=e.props.match.params.username,a=f+"profiles/".concat(t,"/follow"),c=localStorage.TokenKey;c&&fetch(a,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(c)}}).then((function(e){return e.json()})).then((function(t){console.log(t,"followed one"),e.setState({followUser:"follow"})}))},e.handleUnFollow=function(){var t=e.props.match.params.username,a=f+"profiles/".concat(t,"/follow"),c=localStorage.TokenKey;c&&fetch(a,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Token ".concat(c)}}).then((function(e){return e.json()})).then((function(t){console.log(t,"un follow one "),e.setState({followUser:"unfollow"})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.username,a=f+"profiles/".concat(t);fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({profiles:t.profile})})),"myarticles"===this.state.activeTab?this.fetchMyArticles():this.fetchFavoritedArticles()}},{key:"render",value:function(){var e=this,t=this.state,a=t.profiles,c=t.activeTab,s=t.myArticles,r=t.favoriteArticles,n=t.followUser,l=this.props.user.username,o=this.props.match.params.username;return Object(b.jsx)("section",{children:Object(b.jsxs)("div",{className:"my_container",children:[Object(b.jsxs)("article",{className:"banner_profile",children:[Object(b.jsx)("img",{className:"vector_image",src:"/images/other_profile_banner.gif",alt:""}),Object(b.jsxs)("article",{className:"profile_card",children:[Object(b.jsx)("img",{className:"profile_image",src:a.image,alt:""}),Object(b.jsx)("h2",{className:"profile_username",children:a.username}),Object(b.jsx)("p",{className:"profile_bio",children:a.bio}),l!==o?Object(b.jsxs)("div",{className:"flex align_center center",children:[Object(b.jsx)("h2",{onClick:this.handleFollow,className:"follow_btn",children:"follow"===n?"Following":"Follow"})," |",Object(b.jsx)("h2",{onClick:this.handleUnFollow,className:"follow_btn",children:"unfollow"===n?"Follow":"Un Follow"})]}):""]})]}),Object(b.jsxs)("section",{className:"profile_articles_section flex",children:[Object(b.jsx)("h2",{className:"global_feed_heading ".concat("myarticles"===c?"active_tag_heading":""),onClick:function(){return e.handleActive("myarticles")},children:"My Articles"}),Object(b.jsx)("h2",{className:"global_feed_heading ".concat("favorited"===c?"active_tag_heading":""),onClick:function(){return e.handleActive("favorited")},children:"Favorite Articles"})]}),Object(b.jsx)("section",{children:"myarticles"===c?Object(b.jsx)(Y,Object(i.a)(Object(i.a)({},this.state),{},{myArticles:s})):Object(b.jsx)(Q,Object(i.a)(Object(i.a)({},this.state),{},{favoriteArticles:r}))})]})})}}]),a}(c.Component);function Y(e){var t=e.myArticles;return t.length?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"my_articles",children:t.map((function(e){return Object(b.jsxs)("article",{className:"article profile_article",children:[Object(b.jsx)("div",{className:"flex between",children:Object(b.jsxs)("div",{className:"article_data",children:[Object(b.jsx)("h2",{className:"article_title",children:e.title}),Object(b.jsx)("p",{className:"article_desc",children:e.description})]})}),Object(b.jsx)(m.b,{to:"/article/".concat(e.slug),children:Object(b.jsx)("button",{className:"form_btn article_btn",children:"Read More..."})}),Object(b.jsxs)("div",{className:"article_author_data flex align_center",children:[Object(b.jsx)(m.b,{to:"/profiles/".concat(e.author.username),children:Object(b.jsx)("img",{className:"author_img",src:e.author.image,alt:""})}),Object(b.jsx)(m.b,{to:"/profiles/".concat(e.author.username),children:Object(b.jsx)("h3",{className:"author_name",children:e.author.username})})]})]},e.slug)}))})}):Object(b.jsx)(W,{})}function Q(e){var t=e.favoriteArticles;return t.length?Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"my_articles",children:t.map((function(e){return Object(b.jsxs)("article",{className:"article profile_article",children:[Object(b.jsx)("div",{className:"flex between",children:Object(b.jsxs)("div",{className:"article_data",children:[Object(b.jsx)("h2",{className:"article_title",children:e.title}),Object(b.jsx)("p",{className:"article_desc",children:e.description})]})}),Object(b.jsx)(m.b,{to:"/article/".concat(e.slug),children:Object(b.jsx)("button",{className:"form_btn article_btn",children:"Read More..."})}),Object(b.jsxs)("div",{className:"article_author_data flex align_center",children:[Object(b.jsx)(m.b,{to:"/profiles/".concat(e.author.username),children:Object(b.jsx)("img",{className:"author_img",src:e.author.image,alt:""})}),Object(b.jsx)(m.b,{to:"/profiles/".concat(e.author.username),children:Object(b.jsx)("h3",{className:"author_name",children:e.author.username})})]})]},e.slug)}))})}):Object(b.jsx)(W,{})}var X=Object(j.f)(Z),$=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(l.a)(this,a);for(var c=arguments.length,s=new Array(c),r=0;r<c;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={title:"",description:"",body:"",tagList:"",errors:{title:"",description:"",body:"",tagList:""}},e.handleChange=function(t){var a=t.target,c=a.name,s=a.value,r=e.state.errors;switch(c){case"title":r.title=0===s.length?"*title is required!":"";break;case"description":r.description=0===s.length?"*description is required!":"";break;case"body":r.body=0===s.length?"*body is required!":"";break;case"tagList":r.tagList=0===s.length?"*tags are required!":""}e.setState(Object(w.a)({},c,s))},e.handleSubmit=function(t){t.preventDefault();var a=localStorage.TokenKey,c=e.props.match.params.slug,s=p+"/".concat(c),r=e.state,n=r.title,i=r.description,l=r.body,o=r.tagList;a&&fetch(s,{method:"PUT",headers:{"Content-Type":"application/json",authorization:"Token ".concat(a)},body:JSON.stringify({article:{title:n,description:i,body:l,tagList:o}})}).then((function(e){return e.ok?e.json():e.json().then((function(e){return Promise.reject(e)}))})).then((function(t){e.setState({title:"",description:"",body:"",tagList:""}),e.props.history.push("/article/".concat(t.article.slug))})).catch((function(t){e.setState({errors:t})}))},e}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.slug,a=p+"/".concat(t);fetch(a).then((function(e){return e.json()})).then((function(t){e.setState({title:t.article.title,description:t.article.description,body:t.article.body,tagList:t.article.tagList})}))}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.description,c=e.body,s=e.tagList,r=e.errors;return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("section",{children:Object(b.jsx)("div",{className:"my_container",children:Object(b.jsx)("section",{className:"article_form_section flex center align_center",children:Object(b.jsxs)("form",{className:"article_form",onSubmit:this.handleSubmit,children:[Object(b.jsx)("h2",{className:"write_art_heading",children:"Update Aritlce"}),Object(b.jsxs)("div",{className:"flex between",children:[Object(b.jsxs)("div",{className:" art_inp_field flex-48",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"title",children:"Title"}),Object(b.jsx)("input",{onChange:this.handleChange,required:!0,value:t,type:"text",name:"title",className:"art_inp",id:""}),Object(b.jsx)("h2",{className:"error new_art_error",children:r.title})]}),Object(b.jsxs)("div",{className:"flex-48 art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"description",children:"What's this article about?"}),Object(b.jsx)("input",{onChange:this.handleChange,required:!0,value:a,type:"text",name:"description",className:"art_inp",id:""}),Object(b.jsx)("h2",{className:"error new_art_error",children:r.description})]})]}),Object(b.jsxs)("div",{className:" art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"body",children:"Write your article"}),Object(b.jsx)("textarea",{onChange:this.handleChange,required:!0,value:c,name:"body",id:"",className:"art_inp art_textarea"}),Object(b.jsx)("h2",{className:"error new_art_error",children:r.body})]}),Object(b.jsxs)("div",{className:" art_inp_field",children:[Object(b.jsx)("label",{className:"art_label",htmlFor:"tagList",children:"Enter tags"}),Object(b.jsx)("input",{onChange:this.handleChange,required:!0,value:s,type:"text",name:"tagList",className:"art_inp",id:""}),Object(b.jsx)("h2",{className:"error new_art_error",children:r.tagList})]}),Object(b.jsx)("div",{className:"art_form_btn",children:Object(b.jsx)("button",{className:"form_btn add_art_btn",children:"Update Article"})})]})})})})})}}]),a}(c.Component),ee=Object(j.f)($);function te(e){return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"/",exact:!0,children:Object(b.jsx)(y,{})}),Object(b.jsx)(j.a,{path:"/signin",exact:!0,children:Object(b.jsx)(A,{updateUser:e.updateUser})}),Object(b.jsx)(j.a,{path:"/signup",exact:!0,children:Object(b.jsx)(F,{updateUser:e.updateUser})}),Object(b.jsx)(j.a,{path:"/article/:slug",component:I,exact:!0}),Object(b.jsx)(j.a,{path:"*",children:Object(b.jsx)(q,{})})]})})}function ae(e){var t=e.user.user;return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(j.c,{children:[Object(b.jsx)(j.a,{path:"/",exact:!0,children:Object(b.jsx)(y,{})}),Object(b.jsx)(j.a,{path:"/new-article",exact:!0,children:Object(b.jsx)(z,{})}),Object(b.jsx)(j.a,{path:"/profile",exact:!0,children:Object(b.jsx)(H,Object(i.a)(Object(i.a)({},e),{},{user:t}))}),Object(b.jsx)(j.a,{path:"/settings",exact:!0,children:Object(b.jsx)(R,{updateUser:e.updateUser,onUpdateProfile:e.onUpdateProfile})}),Object(b.jsx)(j.a,{exact:!0,path:"/article/:slug/update",children:Object(b.jsx)(ee,Object(i.a)({},e))}),Object(b.jsx)(j.a,{path:"/article/:slug",exact:!0,children:Object(b.jsx)(I,{user:t})}),Object(b.jsx)(j.a,{path:"/profiles/:username",children:Object(b.jsx)(X,Object(i.a)(Object(i.a)({},e),{},{user:t}))}),Object(b.jsx)(j.a,{path:"*",children:Object(b.jsx)(q,{})})]})})}var ce=function(e){Object(h.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(l.a)(this,a),(c=t.call(this,e)).onUpdateProfile=function(e){c.setState({updateProfile:e})},c.logout=function(){c.setState({isLogged:!1,user:null,isVerified:!1}),localStorage.clear()},c.updateUser=function(e){c.setState({isLogged:!0,user:e,isVerified:!1}),localStorage.getItem(g,e.token)},c.state={isLogged:!1,user:null,isVerified:!0,updateProfile:null},c}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.TokenKey;t?fetch("https://mighty-oasis-08080.herokuapp.com/api/user",{method:"GET",headers:{authorization:"Token ".concat(t)}}).then((function(e){return e.ok?e.json():e.json().then((function(e){var t=e.errors;return Promise.reject(t)}))})).then((function(t){e.updateUser(t)})).catch((function(e){return console.log(e)})):this.setState({isVerified:!1})}},{key:"render",value:function(){return this.state.isVerified?Object(b.jsx)(_,{}):Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(x,Object(i.a)(Object(i.a)({},this.state),{},{logout:this.logout})),this.state.isLogged?Object(b.jsx)(ae,Object(i.a)(Object(i.a)({},this.state),{},{onUpdateProfile:this.onUpdateProfile,updateUser:this.updateUser,logout:this.logout})):Object(b.jsx)(te,Object(i.a)(Object(i.a)({},this.state),{},{onUpdateProfile:this.onUpdateProfile,updateUser:this.updateUser}))]})}}]),a}(s.a.Component);n.a.render(Object(b.jsx)(m.a,{children:Object(b.jsx)(ce,{})}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.d8bb1292.chunk.js.map